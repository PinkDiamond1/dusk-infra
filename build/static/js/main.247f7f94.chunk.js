(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(e,a,t){e.exports=t.p+"static/media/d.dd8ae7ee.svg"},237:function(e,a,t){e.exports=t(432)},432:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(16),c=t.n(l),i=t(485),o=t(494),m=t(434),s=(t(473),t(138),t(81));Object(m.a)(function(e){return{root:{margin:e.spacing(6,0,3)},lightBulb:{verticalAlign:"middle",marginRight:e.spacing(1)}}});var u=t(79),d=t(56),E=t(31),p=t(7),g=t(495),h=t(486),f=t(487),b=t(491),y=t(490),O=t(488),v=t(489),j=t(492),N=t(493),k=t(435),x=t(208),w=t.n(x),D=t(212),C=t.n(D),B=t(209),T=t.n(B),S=t(474),F=t(477),A=t(478),I=t(479),R=t(189),H=t.n(R),_=t(190),K=t.n(_),L=t(191),P=t.n(L),U=t(192),G=t.n(U),W=t(132),z=t.n(W),J=r.a.createElement("div",null,r.a.createElement(S.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(H.a,null)),r.a.createElement(A.a,{primary:"Dashboard"})),r.a.createElement(S.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(K.a,null)),r.a.createElement(A.a,{primary:"Customers"})),r.a.createElement(S.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(P.a,null)),r.a.createElement(A.a,{primary:"Reports"})),r.a.createElement(S.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(G.a,null)),r.a.createElement(A.a,{primary:"Integrations"}))),M=r.a.createElement("div",null,r.a.createElement(I.a,{inset:!0},"Archive"),r.a.createElement(S.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(z.a,null)),r.a.createElement(A.a,{primary:"Current month"})),r.a.createElement(S.a,{button:!0},r.a.createElement(F.a,null,r.a.createElement(z.a,null)),r.a.createElement(A.a,{primary:"Last quarter"}))),q=t(14),V=t(436),X=Object(V.a)(function(e){return{}});function Q(e){var a=X();return r.a.createElement(s.a,{className:a.title,component:"p",variant:"body2",color:"primary",gutterBottom:!0},e.children)}var Y=function(e){var a=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Block Time"),r.a.createElement(q.j,null,r.a.createElement(q.g,{data:a,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(q.c,{strokeDasharray:"3 3"}),r.a.createElement(q.l,{dataKey:"height"}),r.a.createElement(q.m,{dataKey:"time"}),r.a.createElement(q.k,null),r.a.createElement(q.e,null),r.a.createElement(q.f,{type:"monotone",dataKey:"time",stroke:"#556CD6",dot:!1}))))},Z=Object(V.a)(function(e){return{blockHash:{flex:1,textTransform:"uppercase"},blockHeight:{padding:e.spacing(2)}}}),$=r.a.memo(function(e){var a=e.height,t=e.hash,n=Z();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Current Block Height"),r.a.createElement(s.a,{component:"p",variant:"h4",className:n.blockHeight},"# ",a?a.toLocaleString("en-US"):"n/a"),r.a.createElement(s.a,{color:"textSecondary",noWrap:!0,className:n.blockHash},t||"n/a"))}),ee=Object(V.a)(function(e){return console.log(e),{blockHash:{flex:1},blockHeight:{padding:e.spacing(2)}}}),ae=r.a.memo(function(e){var a=e.timestamp,t=ee();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Last Update"),r.a.createElement(s.a,{component:"p",variant:"h4",className:t.blockHeight},r.a.createElement("time",{dateTime:a},a?function(e){return((Date.now()-new Date(e))/1e3).toFixed(2)+"s ago"}(a):"n/a")),r.a.createElement(s.a,{color:"textSecondary",noWrap:!0,className:t.blockHash},r.a.createElement("time",{dateTime:a},a||"n/a")))}),te=["#0088FE","#00C49F","#FFBB28","#FF8042","#DD416A","#58DDE4"],ne=Math.PI/180,re=function(e){var a=e.cx,t=e.cy,n=e.midAngle,l=e.innerRadius,c=e.outerRadius,i=(e.percent,e.name),o=l+.5*(c-l),m=a+o*Math.cos(-n*ne),s=t+o*Math.sin(-n*ne);return r.a.createElement(r.a.Fragment,null,r.a.createElement("text",{x:m+1,y:s+1,fill:"black",textAnchor:m>a?"start":"end",dominantBaseline:"central"},i),r.a.createElement("text",{x:m,y:s,fill:"white",textAnchor:m>a?"start":"end",dominantBaseline:"central"},i))},le=function(e){var a=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Node Location"),r.a.createElement(q.j,null,r.a.createElement(q.i,{width:400,height:400},r.a.createElement(q.h,{data:a,labelLine:!1,label:re,outerRadius:80,fill:"#8884d8",dataKey:"value"},a.map(function(e,a){return r.a.createElement(q.d,{key:"cell-".concat(a),fill:te[a%te.length]})})))))},ce=t(480),ie=t(484),oe=t(483),me=t(481),se=t(482),ue=Object(V.a)(function(e){return{}});function de(e){var a=e.items,t=void 0===a?[]:a;ue();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{size:"small"},r.a.createElement(me.a,null,r.a.createElement(se.a,null,r.a.createElement(oe.a,null,"Hostname"),r.a.createElement(oe.a,null,"IP"),r.a.createElement(oe.a,null,"Region"),r.a.createElement(oe.a,null,"Height"),r.a.createElement(oe.a,null,"Stake"),r.a.createElement(oe.a,null,"Hash"),r.a.createElement(oe.a,null,"Ping"))),r.a.createElement(ie.a,null,t.map(function(e){return r.a.createElement(se.a,{key:e.hostname},r.a.createElement(oe.a,null,e.hostname),r.a.createElement(oe.a,null,e.IP),r.a.createElement(oe.a,null,e.region),r.a.createElement(oe.a,null,e.height),r.a.createElement(oe.a,null,e.stake),r.a.createElement(oe.a,null,e.hash),r.a.createElement(oe.a,null,e.ping,"ms"))}))))}var Ee=t(206),pe=t.n(Ee),ge=t(66),he=function(e){var a=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Net Latency"),r.a.createElement(q.j,null,r.a.createElement(q.g,{data:a,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(q.c,{strokeDasharray:"3 3"}),r.a.createElement(q.l,{dataKey:"height"}),r.a.createElement(q.m,{dataKey:"ping"}),r.a.createElement(q.k,null),r.a.createElement(q.e,null),r.a.createElement(q.f,{type:"monotone",dataKey:"ping",stroke:"#FE6B8B",dot:!1}))))},fe=function(e){var a=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Highest Score"),r.a.createElement(q.j,null,r.a.createElement(q.b,{width:150,height:40,data:a},r.a.createElement(q.c,{strokeDasharray:"3 3"}),r.a.createElement(q.l,{dataKey:"height"}),r.a.createElement(q.m,{dataKey:"score"}),r.a.createElement(q.a,{dataKey:"score",fill:"#dd416a"}))))},be=t(52),ye=Object(be.a)(function(e){return e.updates["dusk-1"]||[]},function(e){return e.slice(0,20).reverse()}),Oe=Object(be.a)(function(e){return e.updates},function(e){return Object.entries(e).map(function(e){var a=Object(u.a)(e,2),t=a[0],n=a[1];return Object(E.a)({hostname:t},n[0])})}),ve=Object(be.a)(function(e){return e.lastBlock},function(e){return e}),je=Object(be.a)(ye,function(e){return e.map(function(e){return{time:e.time,height:e.height}})}),Ne=Object(be.a)(ye,function(e){return e.map(function(e){return{ping:e.ping,height:e.height}})}),ke=Object(be.a)(function(e){return e.regions||{}},function(e){return Object.entries(e).map(function(e){var a=Object(u.a)(e,2);return{name:a[0],value:a[1].length}})}),xe=Object(be.a)(ye,function(e){return e.map(function(e){return{score:e.score,height:e.height}})}),we=function(e,a){var t=a.D;return e.toUpperCase().split(/(D)/g).map(function(e){return"D"!==e?e:r.a.createElement("img",{src:pe.a,alt:"D, of Dusk",className:t})})};function De(){return r.a.createElement(s.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 2019 Dusk Network B.V. All Rights Reserved.")}var Ce=Object(m.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(E.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},D:{height:".95em",marginRight:".4em",paddingTop:1,alignSelf:"center"},title:{fontFamily:"Lato",textTransform:"uppercase",letterSpacing:".5em",flexGrow:1,display:"flex"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}});var Be=Object(ge.b)(function(e){return{block:ve(e),items:Oe(e),blockTime:je(e),latency:Ne(e),locations:ke(e),score:xe(e)}})(function(e){var a=e.items,t=e.block,n=e.blockTime,l=e.latency,c=e.locations,o=e.score,m=Ce(),d=r.a.useState(!1),E=Object(u.a)(d,2),x=E[0],D=E[1],B=Object(p.a)(m.paper,m.fixedHeight);return r.a.createElement("div",{className:m.root},r.a.createElement(i.a,null),r.a.createElement(h.a,{position:"absolute",className:Object(p.a)(m.appBar,x&&m.appBarShift)},r.a.createElement(f.a,{className:m.toolbar},r.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"Open drawer",onClick:function(){D(!0)},className:Object(p.a)(m.menuButton,x&&m.menuButtonHidden)},r.a.createElement(w.a,null)),r.a.createElement(s.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:m.title},we("Dashboard",m)),r.a.createElement(O.a,{color:"inherit"},r.a.createElement(v.a,{badgeContent:4,color:"secondary"},r.a.createElement(T.a,null))))),r.a.createElement(g.a,{classes:{paper:Object(p.a)(m.drawerPaper,!x&&m.drawerPaperClose)},open:x},r.a.createElement("div",{className:m.toolbarIcon},r.a.createElement(O.a,{onClick:function(){D(!1)}},r.a.createElement(C.a,null))),r.a.createElement(y.a,null),r.a.createElement(b.a,null,J),r.a.createElement(y.a,null),r.a.createElement(b.a,null,M)),r.a.createElement("main",{className:m.content},r.a.createElement("div",{className:m.appBarSpacer}),r.a.createElement(j.a,{maxWidth:"lg",className:m.container},r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12,sm:5},r.a.createElement(k.a,{className:m.paper},r.a.createElement($,{height:t.height,hash:t.hash}))),r.a.createElement(N.a,{item:!0,xs:12,sm:7},r.a.createElement(k.a,{className:m.paper},r.a.createElement(ae,{timestamp:t.timestamp}))),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{className:B},r.a.createElement(Y,{data:n}))),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{className:B},r.a.createElement(he,{data:l}))),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{className:B},r.a.createElement(le,{data:c}))),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{className:B},r.a.createElement(fe,{data:o}))),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(de,{items:a})))),r.a.createElement(De,null)))}),Te=function(e){return function(a){var t;a({type:"CONNECTING",payload:t});var n=new WebSocket("ws://localhost:8080");n.onopen=function(){return a({type:"CONNECTED",payload:e});var e},n.onerror=function(){return a({type:"CONNECTION_ERROR",payload:e});var e},n.onclose=function(){return a({type:"DISCONNECTED",payload:e});var e},n.onmessage=function(e){var t=e.data,n=JSON.parse(t);a(function(e){return{type:"ADD_NODE_UPDATE",payload:e}}(n)),a(function(e){return{type:"UPDATE_LAST_BLOCK_INFO",payload:e}}(n)),a(function(e){return{type:"ADD_REGION",payload:e}}(n))},"ws"in e||(e.ws=n)}};var Se={},Fe=Object(ge.b)(null,function(e){return{listenForUpdates:function(a){return e(Te(a))}}})(function(e){var a=e.listenForUpdates;return Object(n.useEffect)(function(){return console.log("mounted"),a(Se),function(){console.log("cleanup")}}),null});var Ae=t(214),Ie=Object(Ae.a)({palette:{tonalOffset:.2,background:{paper:"#fff",default:"#fafafa"},contrastThreshold:3,grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A700:"#616161",A100:"#d5d5d5",A400:"#303030",A200:"#aaaaaa"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",secondary:{main:"#f37235",light:"rgb(245, 142, 93)",dark:"rgb(170, 79, 37)",contrastText:"#ffffff"},common:{black:"#000",white:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},type:"light",action:{hoverOpacity:.08,hover:"rgba(0, 0, 0, 0.08)",selected:"rgba(0, 0, 0, 0.14)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabled:"rgba(0, 0, 0, 0.26)",active:"rgba(0, 0, 0, 0.54)"},primary:{main:"#523b97",light:"rgb(116, 98, 171)",dark:"rgb(57, 41, 105)",contrastText:"#fff"}},themeName:"Dusk"}),Re=t(78),He=t(213),_e=t(70),Ke=t(215),Le={status:"disconnected",lastBlock:{height:null,hash:null,timestamp:null},regions:{},nodes:[],updates:{}},Pe=Object(Re.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_NODE_UPDATE":var t=a.payload,n=t.hostname,r=Object(Ke.a)(t,["hostname"]);return Object(E.a)({},e,{nodes:[].concat(Object(_e.a)(e.nodes),Object(_e.a)(n in e.updates?[]:[n])),updates:Object(E.a)({},e.updates,Object(d.a)({},n,[r].concat(Object(_e.a)(e.updates[n]||[]))))});case"ADD_REGION":var l=e.regions[a.payload.region]||[];return Object(E.a)({},e,{regions:Object(E.a)({},e.regions,Object(d.a)({},a.payload.region,[].concat(Object(_e.a)(l),Object(_e.a)(l.includes(a.payload.hostname)?[]:[a.payload.hostname]))))});case"UPDATE_LAST_BLOCK_INFO":var c=a.payload,i=c.height,o=c.hash,m=c.timestamp;return i>e.lastBlock.height?Object(E.a)({},e,{lastBlock:{height:i,hash:o,timestamp:m}}):e;case"CONNECTING":return Object(E.a)({},e,{status:"connecting"});case"CONNECTED":return Object(E.a)({},e,{status:"connected"});case"DISCONNECTED":return Object(E.a)({},e,{status:"disconnected"});case"CONNECTION_ERROR":return Object(E.a)({},e,{status:"error"});default:return e}},Object(Re.a)(He.a));window.store=Pe,c.a.render(r.a.createElement(o.a,{theme:Ie},r.a.createElement(i.a,null),r.a.createElement(ge.a,{store:Pe},r.a.createElement(function(e){return e.listenForUpdates,r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,null),r.a.createElement(Be,null))},null))),document.querySelector("#root"))}},[[237,1,2]]]);
//# sourceMappingURL=main.247f7f94.chunk.js.map